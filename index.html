<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Leo Klemet — AI Engineer · SWE · Generative AI / 3D Artist & Creative Technologist</title>
  <meta name="description" content="Leo Klemet — AI Engineer & SWE. Building agents, analytics, and cinematic creative pipelines: LedgerMind, DataPipe AI, Clarity Companion." />
  <link rel="canonical" href="https://leok974.github.io/leo-portfolio/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Leo Klemet — AI Engineer · SWE · Generative AI / 3D Artist" />
  <meta property="og:description" content="Projects in AI Agents, ML/Analytics, 3D/Generative Art, DevOps." />
  <meta property="og:image" content="https://leok974.github.io/leo-portfolio/assets/optimized/og-cover.jpg" />
  <meta property="og:url" content="https://leok974.github.io/leo-portfolio/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="assets/optimized/leo-avatar-xs.png" type="image/png">
  <link rel="apple-touch-icon" href="assets/optimized/leo-avatar-sm.png">
  <link rel="preload" href="fonts/Inter-roman.var.woff2" as="font" type="font/woff2" crossorigin>
  <style>
    @font-face {
      font-family: 'Inter var';
      font-style: normal;
      font-weight: 100 900;
      font-display: swap;
      src: url('fonts/Inter-roman.var.woff2') format('woff2-variations');
    }
    @font-face {
      font-family: 'Inter var';
      font-style: italic;
      font-weight: 100 900;
      font-display: swap;
      src: url('fonts/Inter-italic.var.woff2') format('woff2-variations');
    }
    /* Neutralize any old padding toggle */
    body.assistant-open { padding-bottom: 0 !important; }
    /* Ensure mascots are off */
    #riv-wrap, #vrm-wrap, #svg-avatar-wrap, #svg-mascot { display:none !important; }
  </style>
  <style>
    /* Critical CSS: minimal layout to paint above-the-fold quickly */
    :root{--bg:#0b1020;--bg-elev:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--border:#1f2937}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.6;color:var(--text);background:var(--bg)}
    header{position:sticky;top:0;z-index:50;background:#0f172acc;border-bottom:1px solid var(--border)}
    .container{width:min(1200px,92vw);margin-inline:auto}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:.85rem 0}
    nav ul{display:flex;gap:1rem;list-style:none;margin:0;padding:0}
    .hero{padding:clamp(3rem,6vw + 1rem,7rem) 0;display:grid;grid-template-columns:1.2fr .8fr;gap:2rem;align-items:center}
    @media(max-width:900px){.hero{grid-template-columns:1fr}}
    .headline{font-size:clamp(1.8rem,2.3rem + 1.5vw,3.2rem);line-height:1.15;margin:0 0 1rem}
    .subline{color:var(--muted);margin:0 0 1.5rem}
    .hero-visual{aspect-ratio:4/3;border:1px solid var(--border);border-radius:1rem;overflow:hidden;background:#111827}
  </style>

  <link rel="preload" as="style" href="styles.74e2bb05ef.css">
  <link rel="stylesheet" href="styles.74e2bb05ef.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="styles.74e2bb05ef.css"></noscript>
  <style>:root{--font-sans:"Inter var","Inter",system-ui,-apple-system,Segoe UI,Roboto,sans-serif}html{font-family:var(--font-sans)}</style>
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Person",
        "@id": "https://leok974.github.io/leo-portfolio/#person",
        "name": "Leo Klemet",
        "description": "AI Engineer · SWE · Generative AI / 3D Artist & Creative Technologist",
        "url": "https://leok974.github.io/leo-portfolio/",
        "jobTitle": "AI Engineer",
        "sameAs": [
          "https://github.com/leok974"
        ]
      },
      {
        "@type": "Organization",
        "@id": "https://leok974.github.io/leo-portfolio/#org",
        "name": "Leo Klemet Studio",
        "url": "https://leok974.github.io/leo-portfolio/",
        "member": { "@id": "https://leok974.github.io/leo-portfolio/#person" }
      },
      {
        "@type": "WebSite",
        "@id": "https://leok974.github.io/leo-portfolio/#website",
        "url": "https://leok974.github.io/leo-portfolio/",
        "name": "Leo Klemet Portfolio",
        "inLanguage": "en",
        "author": { "@id": "https://leok974.github.io/leo-portfolio/#person" }
      }
    ]
  }</script>
  <!-- New bottom-right assistant chip styles -->
  <style>
    /* Kill old assistants/avatars; keep the new chip widget */
    #leo-assistant, #la-open, #la-panel,
    #ai-avatar-wrap, #ai-controls, #ai-text,
    #live2d-wrap, #vrm-wrap, #riv-wrap,
    #svg-avatar-wrap, #svg-mascot {
      display: none !important;
    }
    #assistant-chip { position: fixed; right: max(16px, env(safe-area-inset-right)); bottom: max(16px, env(safe-area-inset-bottom)); z-index: 2147483643; }
    #assistant-chip-btn { border:1px solid #2a3357; padding:.55rem .8rem; border-radius:999px; background:#121a2e; color:#e8ecf8; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.3); }
    #assistant-chip-btn:hover { background:#0f1830; }
    @media (prefers-reduced-motion: reduce){ #assistant-chip-btn { transition:none !important; } }

    /* Lightweight assistant panel */
    #assistant-panel { position: fixed; right: max(16px, env(safe-area-inset-right)); bottom: max(16px, env(safe-area-inset-bottom));
      width: min(92vw, 420px); max-height: min(60vh, 520px); display: none; flex-direction: column; gap: .6rem;
      border: 1px solid #2a3357; border-radius: 12px; background: rgba(16,22,42,.96); backdrop-filter: blur(8px);
      box-shadow: 0 16px 40px rgba(0,0,0,.35); padding: .8rem; z-index: 2147483644; }
    #assistant-panel .head { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
    #assistant-panel .head strong { font-weight: 600; }
    #assistant-close { border:1px solid #2a3357; background:#0f162f; color:#e8ecf8; border-radius:8px; padding:.25rem .5rem; cursor:pointer; }
    #assistant-log { flex:1; min-height: 140px; max-height: 320px; overflow:auto; border:1px solid #2a3357; border-radius:8px; padding:.6rem; background:#0b1223; }
    #assistant-log .msg { margin:.25rem 0; }
    #assistant-log .you { color:#a5b4fc; }
    #assistant-log .ai  { color:#e5e7eb; }
    #assistant-form { display:flex; gap:.5rem; }
    #assistant-input { flex:1; border:1px solid #2a3357; background:#0b1223; color:#e8ecf8; border-radius:8px; padding:.55rem .7rem; }
    #assistant-form .btn { border:1px solid #2a3357; background:#121a2e; color:#e8ecf8; border-radius:8px; padding:.55rem .7rem; cursor:pointer; }
  </style>

</head>
<body>
  <!-- Minimal kill-switch for old bottom-right widget (kept for safety) -->
  <script>
    window.USE_BOTTOM_RIGHT_ASSISTANT = false;
    document.addEventListener('DOMContentLoaded', () => {
      document.body.classList.remove('assistant-open');
      if (document.body && document.body.style) document.body.style.paddingBottom = '';
    });
  </script>

  <!-- Expose a small streaming API for the chip -->
  <script>
    (function(){
      const ENABLE_ASSISTANT = ['leok974.github.io','localhost','127.0.0.1'].includes(location.hostname);
      if (!ENABLE_ASSISTANT) return;
      const API_BASE = 'https://assistant.ledger-mind.org';
      const API_STREAM = API_BASE + '/chat/stream';
      const API_NON_STREAM = API_BASE + '/chat';
      const CLIENT_SYSTEM = {
        role: 'system',
        content: 'You are Leo’s portfolio assistant. Return one best project with a short value line + 3 bullets (Tech, Impact, Why hireable). Close with [Case Study] • [GitHub] • [Schedule]. If unclear, ask one brief clarifying question first.'
      };
      const msgs = [];
      const context = {};
      // seed a tiny context
      (async ()=>{
        try {
          const res = await fetch('projects.json', { cache: 'no-store' });
          const data = await res.json();
          const take = (data.projects||[]).slice(0,6)
            .map(p=>`• ${p.title}: ${p.description} [${(p.tags||[]).join(', ')}]`).join('\n');
          context.summary = `Projects:\n${take}`;
        } catch {}
      })();

      function appendLine(el, role, text){
        const div = document.createElement('div');
        div.className = 'msg ' + (role === 'user' ? 'you':'ai');
        div.textContent = (role==='user'?'You: ':'Assistant: ') + text;
        el.appendChild(div); el.scrollTop = el.scrollHeight;
      }

      async function doStream(question, logEl){
        msgs.push({ role:'user', content: question });
        appendLine(logEl, 'user', question);
        appendLine(logEl, 'assistant', 'Thinking…');
        try {
          const res = await fetch(API_STREAM, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ messages: [CLIENT_SYSTEM, ...msgs], context, stream: true }) });
          if (!res.ok || !res.body) throw new Error('stream failed');
          const reader = res.body.getReader();
          const decoder = new TextDecoder(); let buf=''; let ans='';
          while(true){
            const {value, done} = await reader.read(); if (done) break;
            buf += decoder.decode(value, {stream:true});
            let i; while((i = buf.indexOf('\n\n')) !== -1){
              const chunk = buf.slice(0,i); buf = buf.slice(i+2);
              for (const line of chunk.split('\n')){
                const l = line.trim(); if (!l.startsWith('data:')) continue;
                const data = l.slice(5).trim(); if (data === '[DONE]') return;
                try{
                  const j = JSON.parse(data);
                  const d = j.choices?.[0]?.delta?.content || '';
                  if (d){ ans += d; logEl.lastChild.textContent = 'Assistant: ' + ans; logEl.scrollTop = logEl.scrollHeight; }
                }catch{}
              }
            }
          }
        } catch {
          try {
            const res = await fetch(API_NON_STREAM, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ messages: [CLIENT_SYSTEM, ...msgs], context }) });
            const data = await res.json();
            const text = data.assistant || '(no response)';
            logEl.lastChild.textContent = 'Assistant: ' + text;
          } catch {
            logEl.lastChild.textContent = 'Assistant: (connection failed — please try again later)';
          }
        }
      }

      window.startStream = function(question, opts){
        const logEl = opts?.logEl || document.getElementById('assistant-log');
        if (!logEl) return;
        return doStream(question, logEl);
      };
    })();
  </script>

  <!-- Load chip (defer, no async, no document.write) -->
  <script defer src="js/assistant-chip.js"></script>

  <script>
    // One-time cleanup to keep page layout intact
    document.addEventListener('DOMContentLoaded', ()=>{
      document.body.classList.remove('assistant-open');
      document.body.style.paddingBottom = '';
    });
  </script>

</body>
</html>
