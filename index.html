<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Leo Klemet â€” AI Engineer Â· SWE Â· Generative AI / 3D Artist & Creative Technologist</title>
  <meta name="description" content="Leo Klemet â€” AI Engineer & SWE. Building agents, analytics, and cinematic creative pipelines: LedgerMind, DataPipe AI, Clarity Companion." />
  <link rel="canonical" href="https://leok974.github.io/leo-portfolio/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Leo Klemet â€” AI Engineer Â· SWE Â· Generative AI / 3D Artist" />
  <meta property="og:description" content="Projects in AI Agents, ML/Analytics, 3D/Generative Art, DevOps." />
  <meta property="og:image" content="https://leok974.github.io/leo-portfolio/assets/optimized/og-cover.jpg" />
  <meta property="og:url" content="https://leok974.github.io/leo-portfolio/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="assets/optimized/leo-avatar-xs.png" type="image/png">
  <link rel="apple-touch-icon" href="assets/optimized/leo-avatar-sm.png">
  <link rel="preload" href="fonts/Inter-roman.var.woff2" as="font" type="font/woff2" crossorigin>
  <style>
    @font-face {
      font-family: 'Inter var';
      font-style: normal;
      font-weight: 100 900;
      font-display: swap;
      src: url('fonts/Inter-roman.var.woff2') format('woff2-variations');
    }
    @font-face {
      font-family: 'Inter var';
      font-style: italic;
      font-weight: 100 900;
      font-display: swap;
      src: url('fonts/Inter-italic.var.woff2') format('woff2-variations');
    }
  </style>
  <style>
    /* Critical CSS: minimal layout to paint above-the-fold quickly */
    :root{--bg:#0b1020;--bg-elev:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--border:#1f2937}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.6;color:var(--text);background:var(--bg)}
    header{position:sticky;top:0;z-index:50;background:#0f172acc;border-bottom:1px solid var(--border)}
    .container{width:min(1200px,92vw);margin-inline:auto}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:.85rem 0}
    nav ul{display:flex;gap:1rem;list-style:none;margin:0;padding:0}
    .hero{padding:clamp(3rem,6vw + 1rem,7rem) 0;display:grid;grid-template-columns:1.2fr .8fr;gap:2rem;align-items:center}
    @media(max-width:900px){.hero{grid-template-columns:1fr}}
    .headline{font-size:clamp(1.8rem,2.3rem + 1.5vw,3.2rem);line-height:1.15;margin:0 0 1rem}
    .subline{color:var(--muted);margin:0 0 1.5rem}
    .hero-visual{aspect-ratio:4/3;border:1px solid var(--border);border-radius:1rem;overflow:hidden;background:#111827}
  </style>

  <link rel="preload" as="style" href="styles.74e2bb05ef.css">
  <link rel="stylesheet" href="styles.74e2bb05ef.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="styles.74e2bb05ef.css"></noscript>
  <style>:root{--font-sans:"Inter var","Inter",system-ui,-apple-system,Segoe UI,Roboto,sans-serif}html{font-family:var(--font-sans)}</style>
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Person",
        "@id": "https://leok974.github.io/leo-portfolio/#person",
        "name": "Leo Klemet",
        "description": "AI Engineer Â· SWE Â· Generative AI / 3D Artist & Creative Technologist",
        "url": "https://leok974.github.io/leo-portfolio/",
        "jobTitle": "AI Engineer",
        "sameAs": [
          "https://github.com/leok974"
        ]
      },
      {
        "@type": "Organization",
        "@id": "https://leok974.github.io/leo-portfolio/#org",
        "name": "Leo Klemet Studio",
        "url": "https://leok974.github.io/leo-portfolio/",
        "member": { "@id": "https://leok974.github.io/leo-portfolio/#person" }
      },
      {
        "@type": "WebSite",
        "@id": "https://leok974.github.io/leo-portfolio/#website",
        "url": "https://leok974.github.io/leo-portfolio/",
        "name": "Leo Klemet Portfolio",
        "inLanguage": "en",
        "author": { "@id": "https://leok974.github.io/leo-portfolio/#person" },

        <!-- New bottom-right assistant chip -->
        <style>
        /* Kill old assistants/avatars; keep the new chip widget */
        #leo-assistant, #la-open, #la-panel,
        #ai-avatar-wrap, #ai-controls, #ai-text,
        #live2d-wrap, #vrm-wrap, #riv-wrap,
        #svg-avatar-wrap, #svg-mascot {
          display: none !important;
        }
        #assistant-chip { position: fixed; right: max(16px, env(safe-area-inset-right)); bottom: max(16px, env(safe-area-inset-bottom)); z-index: 2147483643; }
        #assistant-chip-btn { border:1px solid #2a3357; padding:.55rem .8rem; border-radius:999px; background:#121a2e; color:#e8ecf8; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.3); }
        #assistant-chip-btn:hover { background:#0f1830; }
        @media (prefers-reduced-motion: reduce){ #assistant-chip-btn { transition:none !important; } }
        </style>
        <div id="assistant-chip" role="region" aria-label="Assistant">
          <button id="assistant-chip-btn" class="btn" aria-label="Ask about my projects">
            ðŸ¤– Ask about my projectsâ€¦
          </button>
        </div>
        <script>
        if (window.__assistantInit) console.warn('assistant already initialized');
        if (!window.__assistantInit){
          window.__assistantInit = true;
          (function(){
            const ENABLE_ASSISTANT = ['leok974.github.io','localhost','127.0.0.1'].includes(location.hostname);
            // Runtime sweep in case old blocks sneak in
            ['leo-assistant','la-open','la-panel','ai-avatar-wrap','live2d-wrap','vrm-wrap','riv-wrap','svg-avatar-wrap','svg-mascot']
              .forEach(id => document.getElementById(id)?.remove());
            const wrap = document.getElementById('assistant-chip');
            const btn = document.getElementById('assistant-chip-btn');
            if (!ENABLE_ASSISTANT){ if (wrap) wrap.style.display='none'; return; }
            // Keyboard toggle for mute support placeholder (M), or future actions
            document.addEventListener('keydown', e=>{ if (e.key && e.key.toLowerCase()==='m'){ /* reserved */ } });
            // Chip click: for now, scroll to projects; could open a panel in future
            btn?.addEventListener('click', ()=>{
              const el = document.getElementById('projects');
              if (el) el.scrollIntoView({behavior:'smooth'});
            });
          })();
        }
        </script>
  <div id="leo-assistant">
    <button id="la-open" class="btn">ðŸ¤– Ask about my projects</button>
    <div id="la-panel" class="panel" role="dialog" aria-label="Leo Assistant">
      <div class="head">
        <strong>Leoâ€™s Assistant</strong>
        <button id="la-close" class="btn" aria-label="Close assistant">âœ•</button>
      </div>
      <div id="la-log" class="log" aria-live="polite"></div>
      <form id="la-form">
        <input id="la-input" placeholder="Ask: which project fits data engineering?" autocomplete="off"/>
        <button class="btn" type="submit">Send</button>
      </form>
    </div>
  </div>

  <script>
  (() => {
    if (window.USE_BOTTOM_RIGHT_ASSISTANT === false) return;
    // Only show on GitHub Pages or local dev
    const ENABLE_ASSISTANT = ['leok974.github.io','localhost','127.0.0.1'].includes(location.hostname);
    const root = document.getElementById('leo-assistant');
    if(!ENABLE_ASSISTANT){ if(root) root.style.display = 'none'; return; }
    const API_STREAM = "https://assistant.ledger-mind.org/chat/stream"; // your tunnel URL

    const openBtn = document.getElementById('la-open');
    const panel = document.getElementById('la-panel');
    const closeBtn = document.getElementById('la-close');
    const form = document.getElementById('la-form');
    const input = document.getElementById('la-input');
    const log = document.getElementById('la-log');
    const msgs = [];

    function show(){ panel.style.display='flex'; openBtn.style.display='none'; input.focus(); }
    function hide(){ panel.style.display='none'; openBtn.style.display='inline-block'; }
    openBtn.onclick = show; closeBtn.onclick = hide;

    const context = {};
    async function loadContext(){
      try {
        const res = await fetch('projects.json', {cache:'no-store'});
        const data = await res.json();
        const take = data.projects?.slice(0,6).map(p=>`â€¢ ${p.title}: ${p.description} [${(p.tags||[]).join(', ')}]`).join('\n');
        context.summary = `Projects:\n${take}`;
      } catch {}
    }
    loadContext();

    function append(role, text){
      const div = document.createElement('div');
      div.className = 'msg ' + (role === 'user' ? 'you':'ai');
      div.textContent = (role === 'user' ? 'You: ' : 'Assistant: ') + text;
      log.appendChild(div);
      log.scrollTop = log.scrollHeight;
    }

    async function streamChat(payload){
      const res = await fetch(API_STREAM, {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });
      if(!res.ok || !res.body) throw new Error('stream failed');
      const reader = res.body.getReader();
      const decoder = new TextDecoder();
      let buffer = '';
      let answer = '';
      while(true){
        const { value, done } = await reader.read();
        if(done) break;
        buffer += decoder.decode(value, { stream: true });
        let sep;
        while((sep = buffer.indexOf('\n\n')) !== -1){
          const chunk = buffer.slice(0, sep);
          buffer = buffer.slice(sep + 2);
          const lines = chunk.split('\n').map(l=>l.trim()).filter(Boolean);
          for(const l of lines){
            if(!l.startsWith('data:')) continue;
            const data = l.slice(5).trim();
            if(data === '[DONE]'){
              log.lastChild.classList.add('done');
              msgs.push({ role:'assistant', content: answer });
              return;
            }
            try{
              const j = JSON.parse(data);
              const choice = (j.choices && j.choices[0]) || {};
              const delta = (choice.delta && choice.delta.content) || '';
              const finish = choice.finish_reason || null;
              if(delta){
                answer += delta;
                log.lastChild.textContent = 'Assistant: ' + answer;
                log.scrollTop = log.scrollHeight;
              }
              if(finish){
                log.lastChild.classList.add('done');
                msgs.push({ role:'assistant', content: answer });
                return;
              }
            }catch{
              // ignore non-JSON keepalives
            }
          }
        }
      }
    }

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const content = input.value.trim();
      if(!content) return;
      input.value='';
      msgs.push({role:'user', content});
      append('user', content);
      append('assistant', 'Thinkingâ€¦');
      try {
        await streamChat({ messages: msgs, context, stream: true });
      } catch(err){
        try {
          const res = await fetch(API_STREAM.replace('/stream',''), {
            method:'POST', headers:{'Content-Type':'application/json'},
            body: JSON.stringify({ messages: msgs, context })
          });
          const data = await res.json();
          const text = data.assistant || '(no response)';
          log.lastChild.textContent = 'Assistant: ' + text;
          msgs.push({role:'assistant', content: text});
        } catch {
          log.lastChild.textContent = 'Assistant: (connection failed â€” please try again later)';
        }
      }
    });
  })();
  </script>
  
  <!-- Kill-switch: disable bottom-right assistant widget and clear padding -->
  <style>
    /* Hard-disable the old bottom-right assistant widget */
    #leo-assistant { display: none !important; }
  </style>
  <script>
    // Tell any widget script to bail early (if it exists)
    window.USE_BOTTOM_RIGHT_ASSISTANT = false;

    // Clean any padding the old widget might have added
    document.addEventListener('DOMContentLoaded', () => {
      document.body.classList.remove('assistant-open');
      document.body.style.paddingBottom = '';
    });
  </script>
  <!-- AI Avatar Widget (canvas + streaming + TTS) -->
  <style>
  #ai-avatar-wrap{position:fixed;right:16px;bottom:16px;z-index:9999;display:flex;gap:12px;align-items:flex-end}
  #ai-avatar-canvas{width:160px;height:160px;border-radius:18px;border:1px solid #2a3357;background:#0b1223;box-shadow:0 10px 24px rgba(0,0,0,.35)}
  #ai-say {border:1px solid #2a3357;background:#121a2e;color:#e8ecf8;border-radius:12px;padding:.6rem .9rem}
  #ai-text {max-width:min(56vw,520px);min-height:48px;background:#0b1223;border:1px solid #2a3357;border-radius:12px;padding:.6rem .8rem;color:#e8ecf8;white-space:pre-wrap}
  #ai-controls{display:flex;gap:.5rem}
  </style>

  <div id="ai-avatar-wrap">
    <canvas id="ai-avatar-canvas" width="320" height="320" aria-label="AI avatar"></canvas>
    <div>
      <div id="ai-text">Ask me about my projectsâ€¦</div>
      <div id="ai-controls">
        <input id="ai-input" placeholder="Which project fits GKE ops?" />
        <button id="ai-say">Send</button>
        <button id="ai-mute" class="btn" aria-pressed="false">ðŸ”ˆ Voice: On</button>
      </div>
    </div>
  </div>

  <script>
  (() => {
  const ENABLE_ASSISTANT = ['leok974.github.io','localhost'].includes(location.hostname);
    const wrap = document.getElementById('ai-avatar-wrap');
    if(!ENABLE_ASSISTANT){ if(wrap) wrap.style.display='none'; return; }
    const API_STREAM = "https://assistant.ledger-mind.org/chat/stream"; // <- your tunnel URL
    const canvas = document.getElementById('ai-avatar-canvas');
    const ctx = canvas.getContext('2d');
    const sayBtn = document.getElementById('ai-say');
    const input = document.getElementById('ai-input');
    const out = document.getElementById('ai-text');
    const muteBtn = document.getElementById('ai-mute');
    let muted = JSON.parse(localStorage.getItem('aiMuted') || 'false');
    function syncMuteUI(){
      if(!muteBtn) return;
      muteBtn.setAttribute('aria-pressed', String(!muted));
      muteBtn.textContent = muted ? 'ðŸ”‡ Voice: Off' : 'ðŸ”ˆ Voice: On';
    }
    if(muteBtn){
      muteBtn.onclick = () => {
        muted = !muted;
        localStorage.setItem('aiMuted', JSON.stringify(muted));
        if (muted && 'speechSynthesis' in window) speechSynthesis.cancel();
        syncMuteUI();
      };
      syncMuteUI();
    }

    const msgs = [];
    const context = {};
    (async () => {
      try {
        const res = await fetch('projects.json', {cache:'no-store'});
        const data = await res.json();
        context.summary = (data.projects||[]).slice(0,6)
          .map(p=>`â€¢ ${p.title}: ${p.description} [${(p.tags||[]).join(', ')}]`).join('\n');
      } catch {}
    })();

    // --- Canvas avatar (simple anime style) ---
    const state = {
      t: 0,
      blink: 0,
      nextBlink: performance.now() + 2000 + Math.random()*2000,
      mouth: 0,
      speaking: false,
      headBob: 0
    };

    function drawAvatar() {
      const { width:w, height:h } = canvas;
      ctx.clearRect(0,0,w,h);

      ctx.save();
      const bob = Math.sin(state.t*0.0013)*2;
      ctx.translate(0, bob);

      const g = ctx.createRadialGradient(w/2, h/2, 20, w/2, h/2, 150);
      g.addColorStop(0, '#1a2345'); g.addColorStop(1, 'transparent');
      ctx.fillStyle = g; ctx.beginPath(); ctx.arc(w/2,h/2,140,0,Math.PI*2); ctx.fill();

      ctx.fillStyle = '#f3f6ff';
      ctx.beginPath(); ctx.arc(w/2, h/2, 88, 0, Math.PI*2); ctx.fill();

      const eyeY = h/2 - 18, eyeDX = 34, eyeW = 28, eyeH = 12*(1 - (1-Math.pow(1-state.blink,2)));
      ctx.fillStyle = '#0d1530';
      ctx.beginPath(); roundedRect(w/2-eyeDX-eyeW/2, eyeY-eyeH/2, eyeW, eyeH, 6); ctx.fill();
      ctx.beginPath(); roundedRect(w/2+eyeDX-eyeW/2, eyeY-eyeH/2, eyeW, eyeH, 6); ctx.fill();

      ctx.globalAlpha = 0.12; ctx.fillStyle = '#ff7aa2';
      ctx.beginPath(); ctx.ellipse(w/2-48, h/2+8, 18,8,0,0,Math.PI*2); ctx.fill();
      ctx.beginPath(); ctx.ellipse(w/2+48, h/2+8, 18,8,0,0,Math.PI*2); ctx.fill();
      ctx.globalAlpha = 1;

      const mOpen = 6 + state.mouth*14;
      ctx.fillStyle = '#c02d5c';
      ctx.beginPath(); ctx.ellipse(w/2, h/2+32, 18, mOpen/2, 0, 0, Math.PI*2); ctx.fill();

      ctx.fillStyle = '#263061';
      ctx.beginPath(); ctx.arc(w/2, h/2-52, 62, Math.PI*1.05, Math.PI*2 - 0.05); ctx.fill();

      ctx.strokeStyle = 'rgba(10,15,30,.25)';
      ctx.lineWidth = 1; ctx.beginPath(); ctx.arc(w/2, h/2, 88, 0, Math.PI*2); ctx.stroke();

      ctx.restore();
    }
    function roundedRect(x,y,w,h,r){ctx.moveTo(x+r,y);ctx.arcTo(x+w,y,x+w,y+h,r);ctx.arcTo(x+w,y+h,x,y+h,r);ctx.arcTo(x,y+h,x,y,r);ctx.arcTo(x,y,x+w,y,r);ctx.closePath();}

    function tick(now){
      state.t = now;
      if (now > state.nextBlink){
        state.blink += 0.25;
        if (state.blink >= 1){ state.blink = 0; state.nextBlink = now + 1500 + Math.random()*2500; }
      }
      const target = state.speaking ? 0.8 : 0.0;
      state.mouth += (target - state.mouth) * 0.15;
      drawAvatar();
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);

    // --- TTS (SpeechSynthesis) ---
    function speak(text){
      if (!text || muted || !('speechSynthesis' in window)) return;
      const u = new SpeechSynthesisUtterance(text);
      const vs = speechSynthesis.getVoices();
      const prefer = vs.find(v => /en-(US|GB)/.test(v.lang) && /female|Jenny|Aria|Natasha/i.test(v.name)) || vs[0];
      if (prefer) u.voice = prefer;
      u.rate = 1.0; u.pitch = 1.05; u.volume = 1.0;
      u.onstart = () => { state.speaking = true; };
      u.onend   = () => { state.speaking = false; };
      u.onboundary = () => { state.mouth = 1.0; };
      speechSynthesis.speak(u);
    }

    // --- Stream and chunk to TTS ---
    async function streamOpenAI(payload){
      const res = await fetch(API_STREAM, {
        method:'POST', headers:{'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });
      if (!res.ok || !res.body) throw new Error('stream failed');
      const reader = res.body.getReader();
      const decoder = new TextDecoder();
      let buffer = '', answer = '', speakBuf = '';
      out.textContent = '';
      const flushSpeak = () => { const s = speakBuf.trim(); if (s) speak(s); speakBuf = ''; };
      while (true) {
        const { value, done } = await reader.read();
        if (done) break;
        buffer += decoder.decode(value, { stream: true });
        let idx;
        while ((idx = buffer.indexOf('\n\n')) !== -1) {
          const frame = buffer.slice(0, idx);
          buffer = buffer.slice(idx + 2);
          for (const line of frame.split('\n')) {
            const l = line.trim();
            if (!l.startsWith('data:')) continue;
            const data = l.slice(5).trim();
            if (data === '[DONE]') { flushSpeak(); msgs.push({role:'assistant', content: answer}); return; }
            try {
              const j = JSON.parse(data);
              const d = j.choices?.[0]?.delta?.content || '';
              if (d) {
                answer += d;
                out.textContent = answer;
                speakBuf += d;
                if (/[\.\!\?]\s/.test(speakBuf)) {
                  const parts = speakBuf.split(/([\.\!\?]\s)/);
                  while (parts.length > 2) {
                    const seg = (parts.shift() || '') + (parts.shift() || '');
                    speak(seg);
                  }
                  speakBuf = parts.join('');
                }
              }
            } catch {}
          }
        }
      }
    }

    async function send(){
      const text = (input.value || '').trim();
      if (!text) return;
      input.value = '';
      msgs.push({ role:'user', content:text });
      out.textContent = 'â€¦';
      try {
        await streamOpenAI({ messages: msgs, context, stream: true });
      } catch (e){
        out.textContent = 'Connection failed. Please try again later.';
      }
    }
    sayBtn.addEventListener('click', send);
    input.addEventListener('keydown', (e)=>{ if (e.key==='Enter' && !e.shiftKey) { e.preventDefault(); send(); }});
  })();
  </script>

</body>
</html>
