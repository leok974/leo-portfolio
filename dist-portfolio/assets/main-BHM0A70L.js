var rt=Object.defineProperty;var st=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>st(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var ee,b,je,I,he,Ie,He,Fe,de,re,se,B={},Re=[],it=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,te=Array.isArray;function $(t,e){for(var n in e)t[n]=e[n];return t}function _e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function at(t,e,n){var o,r,s,c={};for(s in e)s=="key"?o=e[s]:s=="ref"?r=e[s]:c[s]=e[s];if(arguments.length>2&&(c.children=arguments.length>3?ee.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)c[s]===void 0&&(c[s]=t.defaultProps[s]);return J(t,c,o,r,null)}function J(t,e,n,o,r){var s={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++je,__i:-1,__u:0};return r==null&&b.vnode!=null&&b.vnode(s),s}function q(t){return t.children}function G(t,e){this.props=t,this.context=e}function U(t,e){if(e==null)return t.__?U(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?U(t):null}function Ue(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ue(t)}}function me(t){(!t.__d&&(t.__d=!0)&&I.push(t)&&!Z.__r++||he!=b.debounceRendering)&&((he=b.debounceRendering)||Ie)(Z)}function Z(){for(var t,e,n,o,r,s,c,a=1;I.length;)I.length>a&&I.sort(He),t=I.shift(),a=I.length,t.__d&&(n=void 0,o=void 0,r=(o=(e=t).__v).__e,s=[],c=[],e.__P&&((n=$({},o)).__v=o.__v+1,b.vnode&&b.vnode(n),ue(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[r]:null,s,r??U(o),!!(32&o.__u),c),n.__v=o.__v,n.__.__k[n.__i]=n,ze(s,n,c),o.__e=o.__=null,n.__e!=r&&Ue(n)));Z.__r=0}function Me(t,e,n,o,r,s,c,a,_,l,h){var i,f,u,w,L,k,g,y=o&&o.__k||Re,p=e.length;for(_=lt(n,e,y,_,p),i=0;i<p;i++)(u=n.__k[i])!=null&&(f=u.__i==-1?B:y[u.__i]||B,u.__i=i,k=ue(t,u,f,r,s,c,a,_,l,h),w=u.__e,u.ref&&f.ref!=u.ref&&(f.ref&&fe(f.ref,null,u),h.push(u.ref,u.__c||w,u)),L==null&&w!=null&&(L=w),(g=!!(4&u.__u))||f.__k===u.__k?_=Be(u,_,t,g):typeof u.type=="function"&&k!==void 0?_=k:w&&(_=w.nextSibling),u.__u&=-7);return n.__e=L,_}function lt(t,e,n,o,r){var s,c,a,_,l,h=n.length,i=h,f=0;for(t.__k=new Array(r),s=0;s<r;s++)(c=e[s])!=null&&typeof c!="boolean"&&typeof c!="function"?(_=s+f,(c=t.__k[s]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?J(null,c,null,null,null):te(c)?J(q,{children:c},null,null,null):c.constructor==null&&c.__b>0?J(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,a=null,(l=c.__i=ct(c,n,_,i))!=-1&&(i--,(a=n[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(r>h?f--:r<h&&f++),typeof c.type!="function"&&(c.__u|=4)):l!=_&&(l==_-1?f--:l==_+1?f++:(l>_?f--:f++,c.__u|=4))):t.__k[s]=null;if(i)for(s=0;s<h;s++)(a=n[s])!=null&&!(2&a.__u)&&(a.__e==o&&(o=U(a)),qe(a,a));return o}function Be(t,e,n,o){var r,s;if(typeof t.type=="function"){for(r=t.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=t,e=Be(r[s],e,n,o));return e}t.__e!=e&&(o&&(e&&t.type&&!e.parentNode&&(e=U(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ct(t,e,n,o){var r,s,c,a=t.key,_=t.type,l=e[n],h=l!=null&&(2&l.__u)==0;if(l===null&&t.key==null||h&&a==l.key&&_==l.type)return n;if(o>(h?1:0)){for(r=n-1,s=n+1;r>=0||s<e.length;)if((l=e[c=r>=0?r--:s++])!=null&&!(2&l.__u)&&a==l.key&&_==l.type)return c}return-1}function ye(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||it.test(e)?n:n+"px"}function V(t,e,n,o,r){var s,c;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||ye(t.style,e,"");if(n)for(e in n)o&&n[e]==o[e]||ye(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Fe,"$1")),c=e.toLowerCase(),e=c in t||e=="onFocusOut"||e=="onFocusIn"?c.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?o?n.u=o.u:(n.u=de,t.addEventListener(e,s?se:re,s)):t.removeEventListener(e,s?se:re,s);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ge(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=de++;else if(e.t<n.u)return;return n(b.event?b.event(e):e)}}}function ue(t,e,n,o,r,s,c,a,_,l){var h,i,f,u,w,L,k,g,y,p,v,P,N,H,O,T,F,S=e.type;if(e.constructor!=null)return null;128&n.__u&&(_=!!(32&n.__u),s=[a=e.__e=n.__e]),(h=b.__b)&&h(e);e:if(typeof S=="function")try{if(g=e.props,y="prototype"in S&&S.prototype.render,p=(h=S.contextType)&&o[h.__c],v=h?p?p.props.value:h.__:o,n.__c?k=(i=e.__c=n.__c).__=i.__E:(y?e.__c=i=new S(g,v):(e.__c=i=new G(g,v),i.constructor=S,i.render=_t),p&&p.sub(i),i.props=g,i.state||(i.state={}),i.context=v,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),y&&i.__s==null&&(i.__s=i.state),y&&S.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=$({},i.__s)),$(i.__s,S.getDerivedStateFromProps(g,i.__s))),u=i.props,w=i.state,i.__v=e,f)y&&S.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),y&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(y&&S.getDerivedStateFromProps==null&&g!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,v),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,v)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(i.props=g,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(m){m&&(m.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,v),y&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,w,L)})}if(i.context=v,i.props=g,i.__P=t,i.__e=!1,N=b.__r,H=0,y){for(i.state=i.__s,i.__d=!1,N&&N(e),h=i.render(i.props,i.state,i.context),O=0;O<i._sb.length;O++)i.__h.push(i._sb[O]);i._sb=[]}else do i.__d=!1,N&&N(e),h=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++H<25);i.state=i.__s,i.getChildContext!=null&&(o=$($({},o),i.getChildContext())),y&&!f&&i.getSnapshotBeforeUpdate!=null&&(L=i.getSnapshotBeforeUpdate(u,w)),T=h,h!=null&&h.type===q&&h.key==null&&(T=We(h.props.children)),a=Me(t,te(T)?T:[T],e,n,o,r,s,c,a,_,l),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),k&&(i.__E=i.__=null)}catch(m){if(e.__v=null,_||s!=null)if(m.then){for(e.__u|=_?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else{for(F=s.length;F--;)_e(s[F]);ie(e)}else e.__e=n.__e,e.__k=n.__k,m.then||ie(e);b.__e(m,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=dt(n.__e,e,n,o,r,s,c,_,l);return(h=b.diffed)&&h(e),128&e.__u?void 0:a}function ie(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ie)}function ze(t,e,n){for(var o=0;o<n.length;o++)fe(n[o],n[++o],n[++o]);b.__c&&b.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(s){s.call(r)})}catch(s){b.__e(s,r.__v)}})}function We(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:te(t)?t.map(We):$({},t)}function dt(t,e,n,o,r,s,c,a,_){var l,h,i,f,u,w,L,k=n.props,g=e.props,y=e.type;if(y=="svg"?r="http://www.w3.org/2000/svg":y=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((u=s[l])&&"setAttribute"in u==!!y&&(y?u.localName==y:u.nodeType==3)){t=u,s[l]=null;break}}if(t==null){if(y==null)return document.createTextNode(g);t=document.createElementNS(r,y,g.is&&g),a&&(b.__m&&b.__m(e,s),a=!1),s=null}if(y==null)k===g||a&&t.data==g||(t.data=g);else{if(s=s&&ee.call(t.childNodes),k=n.props||B,!a&&s!=null)for(k={},l=0;l<t.attributes.length;l++)k[(u=t.attributes[l]).name]=u.value;for(l in k)if(u=k[l],l!="children"){if(l=="dangerouslySetInnerHTML")i=u;else if(!(l in g)){if(l=="value"&&"defaultValue"in g||l=="checked"&&"defaultChecked"in g)continue;V(t,l,null,u,r)}}for(l in g)u=g[l],l=="children"?f=u:l=="dangerouslySetInnerHTML"?h=u:l=="value"?w=u:l=="checked"?L=u:a&&typeof u!="function"||k[l]===u||V(t,l,u,k[l],r);if(h)a||i&&(h.__html==i.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(i&&(t.innerHTML=""),Me(e.type=="template"?t.content:t,te(f)?f:[f],e,n,o,y=="foreignObject"?"http://www.w3.org/1999/xhtml":r,s,c,s?s[0]:n.__k&&U(n,0),a,_),s!=null)for(l=s.length;l--;)_e(s[l]);a||(l="value",y=="progress"&&w==null?t.removeAttribute("value"):w!=null&&(w!==t[l]||y=="progress"&&!w||y=="option"&&w!=k[l])&&V(t,l,w,k[l],r),l="checked",L!=null&&L!=t[l]&&V(t,l,L,k[l],r))}return t}function fe(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){b.__e(r,n)}}function qe(t,e,n){var o,r;if(b.unmount&&b.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||fe(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){b.__e(s,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&qe(o[r],e,n||typeof t.type!="function");n||_e(t.__e),t.__c=t.__=t.__e=void 0}function _t(t,e,n){return this.constructor(t,n)}function K(t,e,n){var o,r,s,c;e==document&&(e=document.documentElement),b.__&&b.__(t,e),r=(o=!1)?null:e.__k,s=[],c=[],ue(e,t=e.__k=at(q,null,[t]),r||B,B,e.namespaceURI,r?null:e.firstChild?ee.call(e.childNodes):null,s,r?r.__e:e.firstChild,o,c),ze(s,t,c)}ee=Re.slice,b={__e:function(t,e,n,o){for(var r,s,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},je=0,G.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=$({},this.state),typeof t=="function"&&(t=t($({},n),this.props)),t&&$(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),me(this))},G.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),me(this))},G.prototype.render=q,I=[],Ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,He=function(t,e){return t.__v.__b-e.__v.__b},Z.__r=0,Fe=/(PointerCapture)$|Capture$/i,de=0,re=ge(!1),se=ge(!0);var ut=0;function d(t,e,n,o,r,s){e||(e={});var c,a,_=e;if("ref"in _)for(a in _={},e)a=="ref"?c=e[a]:_[a]=e[a];var l={type:t,props:_,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ut,__i:-1,__u:0,__source:r,__self:s};if(typeof t=="function"&&(c=t.defaultProps))for(a in c)_[a]===void 0&&(_[a]=c[a]);return b.vnode&&b.vnode(l),l}var z,E,ne,ve,W=0,Ke=[],x=b,be=x.__b,we=x.__r,ke=x.diffed,Ee=x.__c,xe=x.unmount,Le=x.__;function pe(t,e){x.__h&&x.__h(E,t,W||e),W=0;var n=E.__H||(E.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function A(t){return W=1,ft(Ge,t)}function ft(t,e,n){var o=pe(z++,2);if(o.t=t,!o.__c&&(o.__=[Ge(void 0,e),function(a){var _=o.__N?o.__N[0]:o.__[0],l=o.t(_,a);_!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=E,!E.__f)){var r=function(a,_,l){if(!o.__c.__H)return!0;var h=o.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!s||s.call(this,a,_,l);var i=o.__c.props!==a;return h.forEach(function(f){if(f.__N){var u=f.__[0];f.__=f.__N,f.__N=void 0,u!==f.__[0]&&(i=!0)}}),s&&s.call(this,a,_,l)||i};E.__f=!0;var s=E.shouldComponentUpdate,c=E.componentWillUpdate;E.componentWillUpdate=function(a,_,l){if(this.__e){var h=s;s=void 0,r(a,_,l),s=h}c&&c.call(this,a,_,l)},E.shouldComponentUpdate=r}return o.__N||o.__}function M(t,e){var n=pe(z++,3);!x.__s&&Je(n.__H,e)&&(n.__=t,n.u=e,E.__H.__h.push(n))}function Ve(t){return W=5,Ye(function(){return{current:t}},[])}function Ye(t,e){var n=pe(z++,7);return Je(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function pt(t,e){return W=8,Ye(function(){return t},e)}function ht(){for(var t;t=Ke.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Q),t.__H.__h.forEach(ae),t.__H.__h=[]}catch(e){t.__H.__h=[],x.__e(e,t.__v)}}x.__b=function(t){E=null,be&&be(t)},x.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Le&&Le(t,e)},x.__r=function(t){we&&we(t),z=0;var e=(E=t.__c).__H;e&&(ne===E?(e.__h=[],E.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Q),e.__h.forEach(ae),e.__h=[],z=0)),ne=E},x.diffed=function(t){ke&&ke(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ke.push(e)!==1&&ve===x.requestAnimationFrame||((ve=x.requestAnimationFrame)||mt)(ht)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ne=E=null},x.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Q),n.__h=n.__h.filter(function(o){return!o.__||ae(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],x.__e(o,n.__v)}}),Ee&&Ee(t,e)},x.unmount=function(t){xe&&xe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Q(o)}catch(r){e=r}}),n.__H=void 0,e&&x.__e(e,n.__v))};var Ce=typeof requestAnimationFrame=="function";function mt(t){var e,n=function(){clearTimeout(o),Ce&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,35);Ce&&(e=requestAnimationFrame(n))}function Q(t){var e=E,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),E=e}function ae(t){var e=E;t.__c=t.__(),E=e}function Je(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ge(t,e){return typeof e=="function"?e(t):e}function yt(){const[t,e]=A(null),[n,o]=A(!0),[r,s]=A(null);if(M(()=>{fetch("/skills.json").then(a=>{if(!a.ok)throw new Error(`Failed to load skills: ${a.status}`);return a.json()}).then(a=>{e(a),o(!1)}).catch(a=>{console.error("SkillsSection: Failed to load skills.json",a),s(a.message),o(!1)})},[]),n)return d("section",{id:"skills",className:"skills-section",children:[d("h2",{children:"Skills & Technologies"}),d("p",{className:"text-muted",children:"Loading skills..."})]});if(r||!t)return d("section",{id:"skills",className:"skills-section",children:[d("h2",{children:"Skills & Technologies"}),d("p",{className:"text-muted",children:"Unable to load skills. Please try again later."})]});const c=Object.entries(t);return c.length===0?d("section",{id:"skills",className:"skills-section",children:[d("h2",{children:"Skills & Technologies"}),d("p",{className:"text-muted",children:"No skills found."})]}):d("section",{id:"skills",className:"skills-section",children:[d("h2",{children:"Skills & Technologies"}),d("p",{className:"lead",children:"Core competencies automatically derived from project experience"}),d("div",{className:"skills-grid",children:c.map(([a,_])=>d("div",{className:"skill-category",children:[d("h3",{className:"category-title",children:a}),d("ul",{className:"skill-list",children:_.map(l=>d("li",{className:"skill-item",children:[d("span",{className:"skill-name",children:l.name}),d("span",{className:"skill-count",title:`Used in ${l.count} project${l.count>1?"s":""}`,children:l.count})]},l.name))})]},a))})]})}const Se=document.getElementById("skills-section-root");Se?(K(d(yt,{}),Se),console.log("âœ… SkillsSection mounted")):console.warn("âš ï¸ SkillsSection: mount point #skills-section-root not found");function gt(){const e=new URL(window.location.href).searchParams.get("layout");return e==="1"?!0:e!=="0"}function Qe(){const e=new URL(window.location.href).searchParams.get("backend");return e==="1"?!0:e!=="0"}const vt="layout:update",Xe={recipe:null};async function X(){if(Qe())try{const t=await fetch("/api/layout",{credentials:"include"});if(!t.ok)return;const e=await t.json();Xe.recipe=e,wt(e),window.dispatchEvent(new CustomEvent(vt,{detail:e}))}catch{}}function bt(){return Xe.recipe}function wt(t){Object.entries(t.cards).forEach(([e,n])=>{const o=document.querySelector(`[data-card="${e}"]`);if(!o){console.debug(`Card not found: ${e}`);return}n.order!==void 0&&(o.style.order=String(n.order)),n.size?o.setAttribute("data-size",n.size):o.removeAttribute("data-size"),n.hidden?o.setAttribute("hidden",""):o.removeAttribute("hidden")})}const Ze="admin:enabled";function kt(){const t=new URL(location.href);if(t.searchParams.has("admin")){const e=t.searchParams.get("admin"),n=e===""||e==="1"||(e==null?void 0:e.toLowerCase())==="true";localStorage.setItem(Ze,n?"1":"0"),n&&history.replaceState(null,"",t.pathname+t.hash)}}function Et(){return!1&&localStorage.getItem(Ze)==="1"}async function xt(){if(!Qe())return null;try{const t=await fetch("/api/auth/me",{credentials:"include"});return t.ok?await t.json():null}catch{return null}}function Lt(t){var n,o;const e=((n=t==null?void 0:t.user)==null?void 0:n.roles)||[];return((o=t==null?void 0:t.user)==null?void 0:o.is_admin)===!0||e.includes("admin")||e.includes("owner")}let Y=null;async function Ae(){if(Et())return!0;const t=Date.now();if(Y&&t-Y.at<1e4)return Y.val;const e=await xt(),n=Lt(e);return Y={at:t,val:n},n}function et(){return document.cookie.split(";").map(e=>e.trim()).some(e=>e.startsWith("sa_dev="))}function Ct(){if(!et()){console.log("[Dev Overlay] Not enabled (no sa_dev cookie found)");return}console.log("[Dev Overlay] Enabled - mounting badge");const t=document.createElement("div");t.dataset.testid="dev-overlay",t.textContent="DEV",t.style.cssText=`
    position: fixed;
    right: 12px;
    bottom: 12px;
    padding: 6px 8px;
    border-radius: 6px;
    background: #111;
    color: #fff;
    font: 600 12px/1 system-ui;
    z-index: 99999;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    transition: transform 0.2s;
  `,t.addEventListener("mouseenter",()=>{t.style.transform="scale(1.1)"}),t.addEventListener("mouseleave",()=>{t.style.transform="scale(1)"}),t.addEventListener("click",async()=>{try{const n=await(await fetch("/agent/dev/status")).json();alert(`Dev Overlay Status:
${JSON.stringify(n,null,2)}`)}catch(e){console.error("[Dev Overlay] Failed to fetch status:",e)}}),document.body.appendChild(t),console.log("[Dev Overlay] Badge mounted successfully")}async function St(t="dev"){try{const e=await fetch("/agent/dev/enable",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)return console.error("[Dev Overlay] Enable failed:",e.status),!1;const n=await e.json();return console.log("[Dev Overlay] Enabled:",n),window.location.reload(),!0}catch(e){return console.error("[Dev Overlay] Enable error:",e),!1}}if(typeof window<"u"){const e=new URLSearchParams(window.location.search).get("dev_overlay");e&&!et()&&(console.log("[Dev Overlay] Auto-enabling from URL parameter"),St(e))}class At{constructor(){j(this,"projects",[]);j(this,"currentFilter","all");j(this,"gridContainer");j(this,"loadingElement",null);j(this,"emptyElement");j(this,"observer");if(this.gridContainer=document.getElementById("portfolio-grid"),this.emptyElement=document.getElementById("portfolio-empty"),!this.gridContainer||!this.emptyElement){console.warn("Portfolio elements not found");return}this.loadingElement=this.gridContainer.querySelector(".portfolio-loading"),this.observer=new IntersectionObserver(e=>{e.forEach(n=>{if(n.isIntersecting){const o=n.target,r=o.dataset.src;r&&(o.src=r,o.removeAttribute("data-src"),this.observer.unobserve(o))}})},{rootMargin:"50px"}),this.setupFilterListeners(),this.loadProjects()}setupFilterListeners(){const e=document.querySelectorAll(".filter-btn");e.forEach(n=>{n.addEventListener("click",o=>{const r=o.currentTarget,s=r.dataset.filter||"all";e.forEach(c=>c.classList.remove("active")),r.classList.add("active"),this.currentFilter=s,this.renderProjects()})})}async loadProjects(){try{const e=await fetch("/projects.json");if(!e.ok)throw new Error(`Failed to fetch projects: ${e.status}`);const n=await e.json();this.projects=Array.isArray(n)?n:Object.values(n),console.log(`Loaded ${this.projects.length} projects`),this.renderProjects()}catch(e){console.error("Error loading projects:",e),this.showEmpty()}}renderProjects(){if(!this.gridContainer)return;this.gridContainer.innerHTML="";const e=this.currentFilter==="all"?this.projects:this.projects.filter(o=>o.tags.some(r=>r.toLowerCase().includes(this.currentFilter.toLowerCase())));if(console.log(`Rendering ${e.length} projects (filter: ${this.currentFilter})`),e.length===0){this.showEmpty();return}this.emptyElement&&(this.emptyElement.style.display="none"),e.forEach((o,r)=>{const s=this.createProjectCard(o,r);this.gridContainer.appendChild(s)}),this.gridContainer.querySelectorAll("img[data-src]").forEach(o=>this.observer.observe(o))}createProjectCard(e,n){const o=document.createElement("div");o.className="project-card",o.style.animationDelay=`${n*.05}s`,o.setAttribute("data-card",e.slug),o.setAttribute("data-testid","project-card");const r=e.thumbnail||"/placeholder.svg",s=this.escapeHtml(e.title),c=this.escapeHtml(e.description||e.problem||"No description available."),a=e.tags.slice(0,4).map(l=>`<span class="project-tag">${this.escapeHtml(l)}</span>`).join("");let _="";return e.demo&&(_=`
        <a href="${e.demo}" target="_blank" rel="noopener noreferrer" class="project-link">
          View Project â†’
        </a>
      `),o.innerHTML=`
      <div class="project-thumbnail">
        <img
          src="${r}"
          alt="${s}"
          loading="lazy"
          data-fallback="/og/og.png"
        />
      </div>
      <div class="project-content">
        <h3 class="project-title">${s}</h3>
        ${a?`<div class="project-tags">${a}</div>`:""}
        <p class="project-description">${c}</p>
        ${_}
      </div>
    `,o}showEmpty(){!this.gridContainer||!this.emptyElement||(this.gridContainer.innerHTML="",this.emptyElement.style.display="block")}escapeHtml(e){const n=document.createElement("div");return n.textContent=e,n.innerHTML}}document.addEventListener("DOMContentLoaded",()=>{console.log("Portfolio UI initialized"),new At});kt();X();const le="https://calendly.com/leoklemet-pa";function $t(){if(window.__CALENDLY_STARTED__)return;window.__CALENDLY_STARTED__=!0;const t=document.querySelector(".calendly-inline-widget");t&&t.setAttribute("data-url",le),typeof window.Calendly<"u"&&window.Calendly.initInlineWidget({url:le,parentElement:document.querySelector(".calendly-inline-widget"),prefill:{},utm:{}})}document.addEventListener("DOMContentLoaded",()=>{$t();const t=document.getElementById("calendly-popup-btn");t&&t.addEventListener("click",e=>(e.preventDefault(),typeof window.Calendly<"u"&&window.Calendly.initPopupWidget({url:le}),!1)),document.addEventListener("error",e=>{const n=e.target;if(n.tagName==="IMG"){const o=n,r=o.getAttribute("data-fallback");r&&o.src!==r&&(o.removeAttribute("data-fallback"),o.src=r,o.classList.add("img-fallback"))}},!0)});window.addEventListener("layout:update",t=>{console.log("Layout loaded:",t.detail)});Ct();console.log("Portfolio shell initialized");window.__APP_READY__=!0;function Pt(){const t=Ve(null);return M(()=>{const e="calendly-widget-js";if(!document.getElementById(e)){const o=document.createElement("script");o.id=e,o.src="https://assets.calendly.com/assets/external/widget.js",o.async=!0,document.body.appendChild(o)}const n=o=>{try{const r=o.data,s=typeof r=="string"?JSON.parse(r):r;s&&s.event==="calendly:frameHeight"&&Number(s.payload)&&t.current&&(t.current.style.height=s.payload+"px")}catch{}};return window.addEventListener("message",n),()=>window.removeEventListener("message",n)},[]),d("section",{id:"contact",class:"contact-section",children:[d("h2",{class:"section-title",children:"Contact"}),d("div",{class:"cal-wrap",children:d("div",{ref:t,id:"calendly",class:"calendly-inline-widget","data-url":"https://calendly.com/leoklemet-pa","data-testid":"calendly"})})]})}const $e=document.getElementById("contact-root");$e&&(K(d(Pt,{}),$e),console.log("Contact component initialized"));function tt(){const t="/resume/Leo_Klemet_Resume_2025.pdf",e=pt(async()=>{const n=["Leo Klemet â€” AI Engineer / Full-Stack","Portfolio: https://www.leoklemet.com","Resume (PDF): https://www.leoklemet.com"+t].join(`
`);try{await navigator.clipboard.writeText(n)}catch{}},[]);return d("div",{style:{marginTop:"1.5rem",display:"flex",gap:"0.75rem",flexWrap:"wrap"},"data-testid":"resume-cta",role:"group","aria-label":"Resume actions",children:[d("a",{href:t,className:"btn-secondary",target:"_blank",rel:"noopener","data-testid":"resume-link","aria-label":"View Resume as PDF",children:"ðŸ“‘ Resume (PDF)"}),d("button",{type:"button",onClick:e,className:"btn-secondary","data-testid":"copy-linkedin","aria-label":"Copy Resume for LinkedIn",children:"ðŸ“‹ Copy for LinkedIn"})]})}const Pe=document.getElementById("resume-cta-root");Pe&&(K(d(tt,{}),Pe),console.log("ResumeCta component initialized (about section)"));const Ne=document.getElementById("resume-cta-footer-root");Ne&&(K(d(tt,{}),Ne),console.log("ResumeCta component initialized (contact section)"));const nt="chatDock:collapsed";function ce(t){const e=document.getElementById("chat-dock"),n=document.getElementById("dock-toggle"),o=document.getElementById("dock-tab");if(!e)return;e.classList.toggle("collapsed",t);const r=!t;e.setAttribute("aria-expanded",String(r)),n&&(n.setAttribute("aria-expanded",String(r)),n.setAttribute("title",t?"Expand (C)":"Collapse (C)")),o&&o.setAttribute("aria-expanded",String(r));try{localStorage.setItem(nt,t?"1":"0")}catch(s){console.warn("Could not persist dock state:",s)}!t&&n&&n.focus()}function oe(){const t=document.getElementById("chat-dock");if(!t)return;const e=t.classList.contains("collapsed");ce(!e)}function Nt(){let t=!1;try{t=localStorage.getItem(nt)==="1"}catch{}ce(t);const e=document.getElementById("dock-toggle");e&&e.addEventListener("click",oe);const n=document.getElementById("dock-tab");n&&n.addEventListener("click",oe),window.addEventListener("keydown",o=>{const r=o.target,s=r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable;o.key.toLowerCase()==="c"&&!o.altKey&&!o.ctrlKey&&!o.metaKey&&!s&&(o.preventDefault(),oe()),o.key==="Escape"&&!s&&ce(!0)})}function Tt(t){return t.currentTarget.value}const Te="layout:update",ot="";function C(){return Date.now()}function De(t){return new Date(t).toLocaleTimeString()}async function Dt(t){var o,r,s;const e=await fetch(`${ot}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t}),credentials:"include"});if(!e.ok)throw new Error(`chat failed: ${e.status}`);const n=await e.json();return n.content||((s=(r=(o=n.choices)==null?void 0:o[0])==null?void 0:r.message)==null?void 0:s.content)||"No response"}async function Ot(t,{onDelta:e,onDone:n,onError:o}){var _,l,h,i;const r=await fetch(`${ot}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t}),credentials:"include"});if(!r.ok||!r.body){o(new Error(`stream failed: ${r.status}`));return}const s=r.body.getReader(),c=new TextDecoder;let a="";try{for(;;){const{value:f,done:u}=await s.read();if(u)break;a+=c.decode(f,{stream:!0});let w;for(;(w=a.indexOf(`

`))>=0;){const L=a.slice(0,w);a=a.slice(w+2);const k=L.split(`
`).find(y=>y.startsWith("data:"));if(!k)continue;const g=k.slice(5).trim();if(g==="[DONE]"){n();return}try{const y=JSON.parse(g),p=((_=y.delta)==null?void 0:_.content)||((i=(h=(l=y.choices)==null?void 0:l[0])==null?void 0:h.delta)==null?void 0:i.content)||"";if(p&&e(p),y.done){n();return}}catch{e(g)}}}n()}catch(f){o(f)}}function jt(){const[t,e]=A(bt()),[n,o]=A([{role:"system",text:"Assistant ready. Type below and press Enter.",ts:C()}]),[r,s]=A(""),[c,a]=A(!1),[_,l]=A(!1),[h,i]=A(!0),[f,u]=A(!1),w=Ve(null);M(()=>{(async()=>l(await Ae()))();const p=async()=>l(await Ae());return window.addEventListener("focus",p),()=>window.removeEventListener("focus",p)},[]),M(()=>{const p=v=>e(v.detail);return window.addEventListener(Te,p),()=>window.removeEventListener(Te,p)},[]),M(()=>{const p=w.current;p&&(p.scrollTop=p.scrollHeight)},[n]);async function L(p){var O,T,F,S;const v=p.trim();if(!v)return;if(f){o(m=>[...m,{role:"event",text:"[error] Assistant API is offline. Please try again later.",ts:C()}]);return}o(m=>[...m,{role:"user",text:v,ts:C()}]),s(""),a(!0);const P=n.filter(m=>m.role==="user"||m.role==="assistant").slice(-5).map(m=>({role:m.role,content:m.text}));P.push({role:"user",content:v});let N=!1,H="";try{await Ot(P,{onDelta:m=>{N=!0,H+=m,o(D=>{const R=D[D.length-1];return R&&R.role==="assistant"&&R.ts>C()-5e3?[...D.slice(0,-1),{...R,text:H}]:[...D,{role:"assistant",text:H,ts:C()}]})},onDone:()=>{a(!1),u(!1)},onError:m=>{console.error("[chat] stream error:",m)}})}catch(m){console.warn("[chat] streaming failed, trying non-stream:",m)}if(!N){try{const m=await Dt(P);o(D=>[...D,{role:"assistant",text:m,ts:C()}]),u(!1)}catch(m){const D=(O=m==null?void 0:m.message)!=null&&O.includes("Failed to fetch")||(T=m==null?void 0:m.message)!=null&&T.includes("NetworkError")?"[error] Cannot reach assistant API - please check connection":`[error] ${String(m)}`;o(R=>[...R,{role:"event",text:D,ts:C()}]),((F=m==null?void 0:m.message)!=null&&F.includes("Failed to fetch")||(S=m==null?void 0:m.message)!=null&&S.includes("NetworkError"))&&u(!0)}a(!1)}}function k(p){p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),L(r))}async function g(){try{const p=await fetch("/api/layout/autotune",{method:"POST",credentials:"include"});if(!p.ok){o(v=>[...v,{role:"event",text:`[autotune] ${p.status} ${p.statusText}`,ts:C()}]);return}o(v=>[...v,{role:"event",text:"[autotune] layout optimized",ts:C()}]),await X()}catch(p){o(v=>[...v,{role:"event",text:`[autotune] error: ${String(p)}`,ts:C()}])}}async function y(){try{const p=await fetch("/api/layout/reset",{method:"POST",credentials:"include"});if(!p.ok){o(v=>[...v,{role:"event",text:`[reset] ${p.status} ${p.statusText}`,ts:C()}]);return}o(v=>[...v,{role:"event",text:"[reset] layout reset to default",ts:C()}]),await X()}catch(p){o(v=>[...v,{role:"event",text:`[reset] error: ${String(p)}`,ts:C()}])}}return d("div",{id:"chat-dock",class:`assistant-panel${h?"":" hidden"}`,"data-testid":"chat-dock",role:"region","aria-label":"Portfolio Assistant","aria-expanded":"true",children:[d("header",{class:"dock-head",children:[d("div",{style:"display:flex; align-items:center; gap:.5rem;",children:[d("strong",{style:"font-weight:600;",children:"Chat"}),_&&d("span",{class:"asst-badge-admin",children:"admin"}),f&&d("span",{class:"asst-badge-offline",title:"Assistant API is offline",style:"background:#ef4444; color:white; padding:2px 6px; border-radius:4px; font-size:11px; font-weight:600;",children:"offline"})]}),d("div",{class:"asst-controls",style:"display:flex; gap:.25rem;",children:[_&&d(q,{children:[d("button",{class:"btn-sm",onClick:g,title:"Admin only: Autotune layout","data-testid":"btn-autotune",children:"Autotune"}),d("button",{class:"btn-sm",onClick:y,title:"Admin only: Reset layout","data-testid":"btn-reset",children:"Reset"})]}),d("button",{id:"dock-toggle",type:"button",class:"dock-btn btn-sm","aria-controls":"assistant-panel","aria-expanded":"true",title:"Collapse (C)","data-testid":"dock-toggle",children:"â–¸"})]})]}),d("div",{class:"dock-body",children:[d("div",{ref:w,class:"asst-log","data-testid":"assistant-log",children:[n.map((p,v)=>d("div",{class:`row ${p.role}`,children:[d("span",{class:"ts",children:De(p.ts)}),d("span",{class:"bubble",children:p.text})]},v)),c&&d("div",{class:"row event",children:[d("span",{class:"ts",children:De(C())}),d("span",{class:"bubble",children:"â€¦streaming"})]})]}),d("div",{class:"asst-compose",children:[d("textarea",{"aria-label":"Message",placeholder:f?"Assistant offline - cannot send messages":"Type a messageâ€¦",value:r,onInput:p=>s(Tt(p)),onKeyDown:p=>k(p),rows:1,disabled:f,style:f?{opacity:.5,cursor:"not-allowed"}:{}}),d("button",{class:"btn",onClick:()=>void L(r),disabled:c||f,"data-testid":"assistant-send",title:f?"API is offline":void 0,children:c?"Sendingâ€¦":f?"Offline":"Send"})]}),gt()&&d("details",{class:"asst-debug","data-testid":"assistant-layout-toggle",children:[d("summary",{children:"Layout"}),d("div",{"data-testid":"layout-section",children:t?d("pre",{"data-testid":"assistant-layout-json",children:JSON.stringify(t,null,2)}):d("div",{style:"padding: 1rem; color: #94a3b8;","data-testid":"assistant-layout-empty",children:["Loading layout model...",d("button",{type:"button",class:"btn-sm",onClick:X,style:"margin-left: 0.5rem;","data-testid":"assistant-layout-refresh",children:"Refresh"})]})})]})]}),d("button",{id:"dock-tab",class:"dock-tab","aria-controls":"assistant-panel","aria-expanded":"false",title:"Expand (C)","data-testid":"dock-tab",children:"Chat"})]})}const Oe=document.getElementById("assistant-root");Oe&&(K(d(jt,{}),Oe),Nt());
//# sourceMappingURL=main-BHM0A70L.js.map
