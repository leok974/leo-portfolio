# Phase 50.9 Commit Messages

## Main Commit (All-in-One)

```
feat(ci): add nightly SEO intelligence & auto-PR system (Phase 50.9)

Implements automated nightly SEO health monitoring with comprehensive
reporting and auto-PR generation.

**Components Added**:
- Nightly workflow (.github/workflows/seo-intel-nightly.yml)
  - Scheduled daily at 02:30 ET (06:30 UTC)
  - Manual trigger via workflow_dispatch
  - Auto-PR creation with formatted body
  - Artifacts upload (JSON + MD reports)

- SEO Intelligence Scanner (scripts/seo-intel.mjs)
  - 14+ checks across 4 categories
  - Frontend: Title, meta description, OG tags, canonical, JSON-LD
  - Backend: /ready, metrics health, behavior snapshot
  - Assets: WebP optimization ratio
  - Privacy: Page access, compliance, opt-out

- PR Body Generator (scripts/seo-pr-body.mjs)
  - Formatted PR descriptions from scanner results
  - Grouped by category with pass/fail summary
  - Action items for failed checks

- Safe Autofix Script (scripts/seo-autofix.mjs)
  - Conservative fixes for common SEO issues
  - Dry-run mode by default (safe)
  - Applies only with --apply flag
  - Fixes: Missing meta tags, canonical, robots.txt

**Documentation Updates**:
- README.md: Added "Nightly SEO & Analytics" section
- docs/DEVELOPMENT.md: Added scripts documentation
- CHANGELOG.md: Added Phase 50.9 entry
- .gitignore: Added reports/ exclusion

**Configuration**:
- GitHub Actions variables: BASE_URL, BACKEND_URL
- Workflow env: AUTO_FIX (default: false)
- Reports directory: reports/ (gitignored except .gitkeep)

**Security**:
- No secrets committed (env vars only)
- Uses built-in GITHUB_TOKEN
- CORS allowlist aligned with Phase 50.8
- Privacy compliance checks included

**Integration**:
- Works with Phase 50.8 behavior metrics
- Compatible with existing SEO tests
- CI/CD ready with artifact uploads

**Files Created**: 5
- .github/workflows/seo-intel-nightly.yml
- scripts/seo-intel.mjs (280 lines)
- scripts/seo-pr-body.mjs (90 lines)
- scripts/seo-autofix.mjs (150 lines)
- reports/.gitkeep

**Files Updated**: 4
- .gitignore (reports/ exclusion)
- README.md (nightly SEO section)
- docs/DEVELOPMENT.md (scripts docs)
- CHANGELOG.md (Phase 50.9 entry)

**Documentation**: 2 guides
- PHASE_50.9_COMPLETE.md (700+ lines)
- PHASE_50.9_QUICKREF.md (quick reference)

Closes #XXX (if applicable)

Co-authored-by: GitHub Copilot <noreply@github.com>
```

---

## Alternative: Split Commits

### Commit 1: Nightly Workflow
```
feat(ci): add nightly SEO intelligence workflow

Implements scheduled workflow for automated SEO health checks.

- Daily runs at 02:30 ET (06:30 UTC)
- Manual trigger via workflow_dispatch
- Auto-PR creation with findings
- Artifact uploads (reports/)

File: .github/workflows/seo-intel-nightly.yml
```

### Commit 2: SEO Intelligence Scanner
```
feat(scripts): add SEO intelligence scanner

Implements comprehensive SEO health checker with 14+ checks across
4 categories (frontend, backend, assets, privacy).

Checks:
- Frontend: Title, meta description, OG tags, canonical, JSON-LD
- Backend: /ready, metrics health, behavior snapshot
- Assets: WebP optimization
- Privacy: Compliance, retention, opt-out

Output: reports/summary.json, reports/summary.md
Exit codes: 0 = pass, 1 = fail (CI integration)

File: scripts/seo-intel.mjs (280 lines)
```

### Commit 3: PR Body Generator
```
feat(scripts): add SEO report PR body generator

Generates formatted PR descriptions from SEO intelligence reports.

Features:
- Grouped by category (Frontend, Backend, Assets, Privacy)
- Pass/fail summary with percentages
- Action items for failed checks
- Changelog stub

File: scripts/seo-pr-body.mjs (90 lines)
```

### Commit 4: Safe Autofix Script
```
feat(scripts): add safe SEO autofix script

Implements conservative autofixes for common SEO issues.

Safe operations:
- Missing meta tags (description, viewport)
- Missing canonical URL
- Missing robots.txt
- .gitignore patterns

Modes:
- Dry-run (default): Show what would change
- Apply (--apply): Apply fixes to disk

File: scripts/seo-autofix.mjs (150 lines)
```

### Commit 5: Documentation
```
docs: add Phase 50.9 documentation

Updates documentation for nightly SEO intelligence system.

Added:
- PHASE_50.9_COMPLETE.md (comprehensive guide, 700+ lines)
- PHASE_50.9_QUICKREF.md (quick reference)

Updated:
- README.md (nightly SEO section)
- docs/DEVELOPMENT.md (scripts documentation)
- CHANGELOG.md (Phase 50.9 entry)
```

### Commit 6: Configuration
```
chore: configure reports directory

Adds reports/ directory for SEO intelligence outputs.

Changes:
- .gitignore: Added reports/ exclusion (keeps .gitkeep)
- reports/.gitkeep: Keep directory in git

Reports generated by scripts/seo-intel.mjs:
- summary.json (machine-readable)
- summary.md (human-readable)
- autofixes.json (fix log, if AUTO_FIX=true)
```

---

## Tag Message

```
git tag -a v0.2.2 -m "Phase 50.9: SEO Intelligence & Nightly Auto-PR

Automated nightly SEO health monitoring with comprehensive reporting
and auto-PR generation.

Components:
- Nightly workflow (scheduled + manual trigger)
- SEO intelligence scanner (14+ checks)
- PR body generator (formatted reports)
- Safe autofix script (conservative fixes)

Integration:
- Works with Phase 50.8 behavior metrics
- Compatible with existing SEO tests
- CI/CD ready with artifact uploads

Configuration:
- GitHub Actions variables: BASE_URL, BACKEND_URL
- Workflow env: AUTO_FIX (default: false)
- Reports directory: reports/ (gitignored)

Documentation: Complete (2 guides + 4 doc updates)

Ready for: Configuration + Testing + Deployment
"
```

---

## Suggested Workflow

### For All-in-One Commit:
```bash
# 1. Stage all changes
git add .

# 2. Commit with comprehensive message
git commit -F COMMIT_MESSAGE_PHASE_50.9_NIGHTLY.txt

# 3. Tag release
git tag -a v0.2.2 -m "Phase 50.9: SEO Intelligence & Nightly Auto-PR"

# 4. Push with tags
git push origin LINKEDIN-OPTIMIZED --tags
```

### For Split Commits:
```bash
# 1. Commit workflow
git add .github/workflows/seo-intel-nightly.yml
git commit -m "feat(ci): add nightly SEO intelligence workflow"

# 2. Commit scanner
git add scripts/seo-intel.mjs
git commit -m "feat(scripts): add SEO intelligence scanner"

# 3. Commit PR body generator
git add scripts/seo-pr-body.mjs
git commit -m "feat(scripts): add SEO report PR body generator"

# 4. Commit autofix script
git add scripts/seo-autofix.mjs
git commit -m "feat(scripts): add safe SEO autofix script"

# 5. Commit documentation
git add PHASE_50.9_*.md README.md docs/DEVELOPMENT.md CHANGELOG.md
git commit -m "docs: add Phase 50.9 documentation"

# 6. Commit configuration
git add .gitignore reports/.gitkeep
git commit -m "chore: configure reports directory"

# 7. Tag and push
git tag -a v0.2.2 -m "Phase 50.9: SEO Intelligence & Nightly Auto-PR"
git push origin LINKEDIN-OPTIMIZED --tags
```

---

## Merge to Main

```bash
# 1. Switch to main
git checkout main

# 2. Merge with no-ff (preserve branch history)
git merge --no-ff LINKEDIN-OPTIMIZED -m "Merge Phase 50.9: SEO Intelligence & Nightly Auto-PR

Implements automated nightly SEO health monitoring with comprehensive
reporting and auto-PR generation.

See PHASE_50.9_COMPLETE.md for full details.
"

# 3. Push main
git push origin main

# 4. Create GitHub release (optional)
gh release create v0.2.2 \
  --title "v0.2.2: Phase 50.9 - SEO Intelligence & Nightly Auto-PR" \
  --notes-file PHASE_50.9_COMPLETE.md \
  --draft
```

---

**Recommendation**: Use **all-in-one commit** for simplicity, then create
detailed GitHub release with PHASE_50.9_COMPLETE.md as release notes.
