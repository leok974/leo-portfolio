# Backend environment (copy to .env and adjust values)
# Backend environment (copy to .env and adjust values)

# ============================================================
# Agents Configuration
# ============================================================

# --- SEO Validate ---
# Override default commands if scripts live elsewhere
# SEO_GUARDRAILS_CMD="node ./scripts/seo-meta-guardrails.mjs --out json"
# LIGHTHOUSE_BATCH_CMD="node ./scripts/lighthouse-batch.mjs --sitemap sitemap.xml --format json"
# SEO_VALIDATE_TIMEOUT_SECS=420

# --- Code Review ---
# Default points to stub; override with eslint/review toolchain as needed
# CODE_REVIEW_CMD="node ./scripts/code-review.mjs --diff HEAD~1..HEAD --out json"
# CODE_REVIEW_TIMEOUT_SECS=240

# --- DX Integrate ---
# DX_INTEGRATE_CMD="node ./scripts/dx-integrate.mjs --check --out json"
# DX_INTEGRATE_TIMEOUT_SECS=240

# --- Infra Scale ---
# INFRA_SCALE_CMD="node ./scripts/infra-scale.mjs --plan --out json"
# INFRA_SCALE_TIMEOUT_SECS=300

# ============================================================
# LLM & Embeddings
# ============================================================

# Local embedding model (default, no key needed)
EMBED_MODEL=intfloat/e5-large-v2

# Optional — only set if you want to use OpenAI embeddings
# EMBED_MODEL=openai/text-embedding-3-large
# OPENAI_API_KEY=sk-...

GITHUB_TOKEN=
RAG_DB=./data/rag.sqlite
RAG_REPOS=leok974/ledger-mind,leok974/leo-portfolio

OPENAI_MODEL=gpt-oss:20b

# ============================================================
# LLM Router Configuration (Primary → Fallback)
# ============================================================
# Primary backend (e.g., local Ollama or gateway)
# Tries this first; falls back to FALLBACK on timeout/connection errors
PRIMARY_OPENAI_BASE_URL=http://localhost:11434/v1
PRIMARY_OPENAI_API_KEY=dummy
PRIMARY_OPENAI_MODEL=gpt-oss:20b
PRIMARY_OPENAI_TIMEOUT_S=12

# Fallback backend (e.g., OpenAI cloud)
# Used when primary fails with retryable errors
FALLBACK_OPENAI_BASE_URL=https://api.openai.com/v1
FALLBACK_OPENAI_API_KEY=sk-...your-real-key...
FALLBACK_OPENAI_MODEL=gpt-4o-mini
FALLBACK_OPENAI_TIMEOUT_S=20

# ============================================================
# Agents / SEO Validate Configuration
# ============================================================
# Override commands if your scripts live elsewhere:
# SEO_GUARDRAILS_CMD="node ./scripts/seo-meta-guardrails.mjs --out json"
# LIGHTHOUSE_BATCH_CMD="node ./scripts/lighthouse-batch.mjs --sitemap sitemap.xml --format json"
# Increase timeout for slow CI runners (seconds):
# SEO_VALIDATE_TIMEOUT_SECS=420

# ============================================================
# Admin RBAC Configuration
# ============================================================
# Admin users allowed to approve/reject/cancel tasks
# Comma-separated list of email addresses
ADMIN_USERS=leoklemet.pa@gmail.com

# Optional: Shared secret key for service-to-service admin access
# ADMIN_API_KEY=your-secret-key-here
