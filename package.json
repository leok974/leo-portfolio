{
  "name": "leo-portfolio",
  "version": "1.0.0",
  "description": "Leo portfolio site + tooling (Vite integrated)",
  "type": "module",
  "scripts": {
    "fetch:assets": "node scripts/fetch-assets.mjs",
    "optimize": "node optimize-media.js",
    "optimize:images": "node optimize-media.js --images-only",
    "optimize:videos": "node optimize-media.js --videos-only",
    "generate-projects": "node generate-projects.js",
    "copy:fonts": "node scripts/copy-fonts.mjs",
    "build:legacy": "npm run generate-projects && npm run fetch:assets && npm run copy:fonts && npm run optimize && node scripts/rev.mjs",
    "dev:legacy": "browser-sync start --server --no-ui --no-notify --host 127.0.0.1 --port 5530 --files \"index.html,*.css,main.js,js/**/*.js,projects/**/*.html,assets/**/*,manifest.webmanifest,sw.js,projects.json\"",
    "build": "vite build",
    "build:sri": "node scripts/generate-sri.mjs --root . --html index.html,projects/*.html --assets . --manifest sri-manifest.json",
    "build:dist:sri": "node scripts/generate-sri.mjs --root dist --html index.html --assets dist --manifest dist/sri-manifest.json",
    "postbuild": "npm run build:sri",
    "dev": "vite",
    "preview": "vite preview --port 5173",
    "web": "npm run dev",
    "lh": "lhci autorun --collect.url=https://leok974.github.io/leo-portfolio/ --upload.target=temporary-public-storage",
    "snapshot": "node scripts/snapshot.mjs",
    "test": "vitest run",
    "test:watch": "vitest",
    "e2e:install": "npx playwright install --with-deps",
    "e2e": "playwright test",
    "test:dev": "cross-env BACKEND_REQUIRED=0 REQUIRE_CSS_200=0 REQUIRE_STATUS_PILL_STRICT=0 playwright test",
    "test:strict": "cross-env REQUIRE_CSS_200=1 REQUIRE_STATUS_PILL_STRICT=1 PLAYWRIGHT_STRICT_STREAM=1 playwright test",
    "test:smoke": "cross-env REQUIRE_CSS_200=0 REQUIRE_STATUS_PILL_STRICT=0 npx playwright test -g \"stylesheet|status pill|summary|ping|csp|root html mime|bundle wiring\"",
    "test:smoke:static": "cross-env BACKEND_REQUIRED=0 REQUIRE_CSS_200=0 REQUIRE_STATUS_PILL_STRICT=0 npx playwright test -g \"stylesheet|status pill|summary|ping|csp|root html mime|bundle wiring\"",
    "test:backend": "npx playwright test -g \"@backend\"",
    "test:smoke:backend": "npx playwright test -g \"@backend.*(ping|summary)\"",
    "smoke:strict-nginx": "node scripts/strict-smoke-nginx.mjs",
    "smoke:strict-nginx:full": "node scripts/strict-smoke-nginx.mjs --full",
    "test:security": "playwright test -g \"@security\"",
    "smoke:security": "playwright test -g \"@security .*(root html mime|csp)\"",
    "test:frontend-smoke": "cross-env BACKEND_REQUIRED=0 playwright test -g \"stylesheet|status pill|root html mime|bundle wiring|csp\"",
    "test:mime-smoke": "cross-env NGINX_STRICT=1 playwright test -g \"mime smoke|root html mime|cache smoke\"",
    "build:prod": "vite build",
    "serve:dist": "npx http-server ./dist -p 5178 -c-1",
    "strict-local": "npm run build:prod && cross-env BASE=http://localhost:5178 REQUIRE_CSS_200=1 REQUIRE_STATUS_PILL_STRICT=1 PLAYWRIGHT_STRICT_STREAM=1 npm run serve:dist",
    "strict-local:test": "npm run build:prod && cross-env BASE=http://localhost:5178 REQUIRE_CSS_200=1 REQUIRE_STATUS_PILL_STRICT=1 PLAYWRIGHT_STRICT_STREAM=1 start-server-and-test serve:dist http://localhost:5178 e2e",
    "smoke:pr": "playwright test -g \"stylesheet|status pill|summary|ping|root html mime|bundle wiring\"",
    "csp:hash": "node scripts/csp-hash-extract.mjs --html dist/index.html --allow-empty",
    "csp:sync:deploy": "node scripts/csp-hash-sync-deploy.mjs --html dist/index.html --conf deploy/nginx.conf",
    "csp:sync:test": "node scripts/csp-hash-sync-nginx-test.mjs",
    "lint": "eslint . --ext .js,.ts",
    "coverage": "vitest run --coverage",
    "cov:badges": "node scripts/coverage-shield.mjs",
    "coverage:gate": "node scripts/coverage-gate.mjs",
    "typecheck": "tsc --noEmit",
    "smoke:ui": "node scripts/ui-smoke.mjs",
    "generate:projects": "node scripts/bin.mjs generate-projects",
    "optimize:media": "node scripts/bin.mjs optimize-media",
    "validate:schema": "node scripts/bin.mjs validate-schema",
    "lint:md": "eslint \"**/*.md\"",
    "lint:yml": "eslint \"**/*.{yml,yaml}\"",
    "ci:smoke": "node scripts/ci-smoke.mjs",
    "prepare": "husky install"
  },
  "dependencies": {
    "sharp": "^0.33.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.10.0",
    "@eslint/markdown": "^7.3.0",
    "@fontsource-variable/inter": "^5.2.8",
    "@lhci/cli": "^0.13.0",
    "@playwright/test": "^1.48.0",
    "@types/jsdom": "^21.1.0",
    "@types/node": "^20.11.0",
    "@vitest/coverage-v8": "^1.6.0",
    "browser-sync": "^2.29.3",
    "commander": "^11.0.0",
    "cross-env": "^7.0.3",
    "eslint": "^9.10.0",
    "eslint-plugin-markdown": "^5.1.0",
    "eslint-plugin-yml": "^1.18.0",
    "glob": "^10.3.0",
    "http-server": "^14.1.1",
    "husky": "^9.0.0",
    "jsdom": "^24.0.0",
    "lighthouse": "^12.0.0",
    "lint-staged": "^15.2.0",
    "prettier": "^3.6.2",
    "start-server-and-test": "^2.1.2",
    "tslib": "2.8.1",
    "typescript": "^5.4.0",
    "typescript-eslint": "^8.0.0",
    "vite": "^5.4.0",
    "vitest": "^1.6.0",
    "yaml-eslint-parser": "^1.3.0"
  },
  "lint-staged": {
    "*.{js,ts,tsx}": "eslint --fix",
    "*.md": "eslint",
    "*.{yml,yaml}": "eslint",
    "*.{json,css,scss,html}": "prettier --write"
  }
}
