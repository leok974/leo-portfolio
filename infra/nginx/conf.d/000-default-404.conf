# Default catch-all server block to prevent brand bleed
# This ensures that any unmatched Host headers get a 404
# instead of falling through to another brand's vhost

server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name _;

    # Return 404 for all requests to prevent serving wrong brand
    location / {
        add_header X-Config "default-404" always;
        return 404;
    }

    # Health check endpoint for monitoring
    location = /health {
        access_log off;
        add_header Content-Type text/plain;
        return 200 "default vhost\n";
    }
}
